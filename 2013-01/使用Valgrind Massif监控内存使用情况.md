- [原文链接](https://www.percona.com/blog/2013/01/09/profiling-mysql-memory-usage-with-valgrind-massif/)

# 使用Valgrind Massif监控MySQL内存使用情况
- 有时候，您需要**确切**地知道`mysqld`服务（或任何其他程序）使用了多少内存，分配在哪里（为哪个函数），它是如何这么多的（一个回溯），以及分配是在什么时间点发生的。
- 例如：您可能已经注意到，在执行特定的查询之后，内存急剧增加。或者`mysqld`总体上占用了太多内存。或者您可能注意到随着时间推移，`mysqld`占用内存缓慢增加，这表明可能存在内存bug。
- 无论是什么原因，有一个简单但强大的方法来分析MySQL内存使用情况——Valgrind的Massif工具。Massif手册的摘录（堆内存只是分配给程序使用的内存池）；
>Massif不仅告诉您程序正在使用多少堆内存，还提供非常详细的信息，指出程序的哪些部分负责分配堆内存。

- 首先，我们需要得到
